<html>
  <head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://rawgit.com/mayognaise/aframe-mouse-cursor-component/master/dist/aframe-mouse-cursor-component.min.js"></script>
    <script src="https://unpkg.com/aframe-controller-cursor-component@0.2.7/dist/aframe-controller-cursor-component.min.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>

    <script src="https://unpkg.com/networked-aframe@^0.6.0/dist/networked-aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.min.js"></script>
    <script src="easyrtc/easyrtc.js"></script>

    <script src="https://unpkg.com/aframe-play-sound-on-event@1.0.2/dist/aframe-play-sound-on-event.min.js"></script>

    <script src="js/travel-node-component.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
    <script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
    <script src="https://unpkg.com/aframe-randomizer-components@^3.0.1/dist/aframe-randomizer-components.min.js"></script>
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.5/dist/aframe-particle-system-component.min.js"></script>

    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-material-collection@0.4.10/dist/aframe-yoga-layout.min.js"></script>
    <script src="https://unpkg.com/aframe-material-collection@0.4.10/dist/aframe-material-collection.min.js"></script>

    <!-- Plugin CSS -->
    <link rel="stylesheet" href="assets/css/plugin.css" />

    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/dark.css" />

    <!-- Responsive CSS -->
    <link rel="stylesheet" href="assets/css/responsive.css" />
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- load external script files -->

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
    <script>
      AFRAME.registerComponent("typer", {
        dependencies: ["text", "sound__typer", "sound__beep"],

        schema: {
          message: { type: "string" },
          speed: { type: "int", default: 50 },
          prefix: { type: "string" },
          // suffix:      { type: 'string' },
          cursorChar: { type: "string", default: "|" },
          cursorSpeed: { type: "int", default: 500 },
          wrapChar: { type: "string", default: "\\" },
          on: { type: "string", default: "loaded" }
          // sound assets
        },

        init: function() {
          // this.wrapCount = this.el.components.text.data.wrapCount;
          this.cursorVisible = true;
          this.output = "";
          this.char = 0;

          // Throttle the function to only occur at the defined intervals within tick
          // this.printMessage = AFRAME.utils.throttle(this.printMessage, this.data.speed, this);

          this.el.addEventListener(
            this.data.on,
            function(e) {
              console.log("clicked");

              console.log(this.output);
              console.log(this.char);

              if (this.timer) {
                console.log("interval exists");
                clearInterval(this.timer);
                this.timer = null;
                this.char = 0;
                this.output = "";
                // this.el.setAttribute('text', 'value' , '');
                this.el.components.sound__typer.stopSound();
                return;
              }

              // Using instead of throttled tick function
              this.timer = setInterval(
                this.printMessage.bind(this),
                this.data.speed
              );
            }.bind(this)
          );
        },

        tick: function() {
          // Throttled function.
          // this.printMessage();
        },

        printMessage: function() {
          if (this.char < this.data.message.length) {
            if (this.char === 0) {
              this.el.components.sound__typer.playSound();
            }

            if (this.data.message.charAt(this.char) === this.data.wrapChar) {
              // console.log('found');
              this.el.components.sound__typer.stopSound();
              this.el.components.sound__typer.playSound();
            }

            // this.output += this.data.prefix;
            this.output += this.data.message.charAt(this.char);
            // this.output += this.data.suffix;
            this.el.setAttribute(
              "text",
              "value",
              this.data.prefix + this.output + this.data.cursorChar
            );
          } else if (this.char >= this.data.message.length) {
            if (this.char === this.data.message.length) {
              this.el.components.sound__typer.stopSound();
              this.el.components.sound__beep.playSound();
              // this.el.emit('beep');
            }

            if (this.char % (this.data.cursorSpeed / this.data.speed) === 0) {
              this.cursorVisible = !this.cursorVisible;

              this.el.setAttribute(
                "text",
                "value",
                this.output + (this.cursorVisible ? " " : this.data.cursorChar)
              );
            }
          }

          this.char++;
        }
      });
    </script>
  </head>
  <body>
    <div id="preloader">
      <div class="loader-logo text-center">
        <img
          src="https://beta-supercruisr.neocities.org/assets/white.png"
          alt=""
        />
        <p>Loading</p>
      </div>
    </div>

    <!-- Start Header -->

    <nav>
      <div class="logo">
        <a href="/public/navigation-centre.html"
          ><img
            src="https://beta-supercruisr.neocities.org/assets/white.png"
            alt="logo"
        /></a>
      </div>
      <div class="toggle-btn">
        <div class="burger-menu">
          <span class="one"></span>
          <span class="two"></span>
          <span class="tre"></span>
        </div>
      </div>

      <div class="bg-nav"></div>

      <div class="manu-container">
        <div class="menu">
          <div class="data">
            <div class="container">
              <div class="loader-image">
                <img
                  src="https://beta-supercruisr.neocities.org/assets/blackloader.png"
                  alt=""
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
    <a-scene
      networked-scene="
      room: audio;
      adapter: easyrtc;
      audio: true;
      debug: true"
    >
      <a-assets>
        <canvas id="textCanvas"></canvas>
      </a-assets>
      <a-entity
        id="camera"
        camera="near:0.1;far:10000"
        look-controls
        wasd-controls
      >
        <a-entity
          id="cursor"
          cursor="rayOrigin: mouse"
          ui-mouse-shim
          raycaster="far: 30; objects: .intersect;"
        ></a-entity>
      </a-entity>

      <a-entity light="type: ambient; intensity: 0.5;"></a-entity>
      <a-sky color="#efefef"></a-sky>

      <a-plane
        id="modalPanel"
        ui-curved-plane
        width="4.4444"
        height="2"
        scale="0.0001 0.0001 0.0001"
        position="0 0 -1.7"
        side="double"
        shader="flat"
        class="intersect"
      ></a-plane>

      <a-ui-renderer id="modalRenderer" ui-panel="#modalPanel">
        <a-entity
          geometry="primitive:plane;width:4.222;height:1.9;"
          material="side:double;shader:flat;"
          position="0 0 -0.495"
        >
          <a-plane
            width="0.15"
            height="0.15"
            position="1.105 0.515 0.001"
            color="#fff"
            shader="flat"
            class="intersectable close-modal"
          >
            <a-plane
              src="https://cdn.glitch.com/c9b5e10a-e027-44b4-8313-fcb6d2f09eb5%2Fclose_white_18dp.png?1536051469241"
              width="0.08"
              height="0.08"
              shader="flat"
              transparent="true"
              color="#4db6ac"
            ></a-plane>
          </a-plane>
          <a-ui-scroll-pane
            id="modalContent"
            handle-color="#4db6ac"
            position="0 -0.05 0.01"
            width="2"
            height="0.9"
            look-controls-el="#camera"
            look-controls-component=""
          >
            <a-entity class="container">
              <!--Introduction-->
              <a-entity width="1.8">
                <a-text
                  font="roboto"
                  baseLine="center"
                  value="Modal Popup"
                  color="#212121"
                  anchor="center"
                  wrap-count="28"
                  width="1.9"
                  height="0.15"
                ></a-text>

                <a-text
                  font="roboto"
                  baseLine="center"
                  value="This modal's content is rendered separately from the rest of the scene - only when its opened."
                  anchor="center"
                  color="#515151"
                  wrap-count="40"
                  width="1.9"
                  height="0.2"
                ></a-text>

                <a-text
                  font="roboto"
                  baseLine="center"
                  value="Backdrop"
                  color="#212121"
                  anchor="center"
                  wrap-count="28"
                  width="1.9"
                  height="0.15"
                ></a-text>

                <a-text
                  font="roboto"
                  baseLine="center"
                  value="The backdrop is created by pausing the underlying renderer - this means it does not render or respond to input while the modal is opened. It also has a nice fade animation on the backdrop before rendering is paused."
                  anchor="center"
                  color="#515151"
                  wrap-count="40"
                  width="1.9"
                  height="0.45"
                ></a-text>

                <a-entity width="1.3">
                  <!--Flat Button-->
                  <a-ui-button
                    class="intersectable close-modal"
                    text-value="Close"
                    transparent="true"
                    font-color="#009688"
                    color="white"
                    ripple-color="#009688"
                  ></a-ui-button>
                </a-entity>

                <a-entity width="0.3">
                  <!--Button-->
                  <a-ui-button
                    class="intersectable close-modal"
                    text-value="OK"
                  ></a-ui-button>
                </a-entity>
              </a-entity>
            </a-entity>
          </a-ui-scroll-pane>
        </a-entity>
      </a-ui-renderer>

      <a-plane
        id="uiPanelTwo"
        ui-curved-plane
        width="6"
        height="3"
        position="0 0 -2"
        side="double"
        shader="flat"
        class="intersect"
      ></a-plane>
      <a-ui-renderer id="mainRenderer" ui-panel="#uiPanelTwo">
        <a-entity position="0 0 -0.69" id="uiPanel">
          <!-- Toast Message -->
          <a-ui-toast
            id="toastMessage"
            position="1 -0.4 0.1"
            visible="false"
          ></a-ui-toast>

          <!-- Scroll Pane -->
          <a-text
            font="roboto"
            baseLine="bottom"
            value="Aframe Material Collection"
            position="-1.4 0.6 0.005"
            color="#212121"
            wrap-count="25"
            width="1.25"
            height="0.25"
          ></a-text>

          <a-plane
            class="intersectable"
            width="3.4"
            height="1.7"
            position="0 0 -0.02"
            shader="flat"
            color="#cfcfcf"
            side="double"
          ></a-plane>

          <a-ui-scroll-pane
            position="0 -0.1 0"
            scroll-z-offset="0.001"
            look-controls-el="#camera"
          >
            <a-entity class="container">
              <!--Introduction-->
              <a-entity width="2.9">
                <a-text
                  font="roboto"
                  baseLine="center"
                  value="Introduction"
                  color="#212121"
                  anchor="center"
                  alpha-test="0.3"
                  wrap-count="54"
                  width="2.45"
                  height="0.1"
                ></a-text>

                <a-text
                  font="roboto"
                  baseLine="bottom"
                  value="Here we have some material UI based primitives and components for use in your aframe projects."
                  anchor="center"
                  color="#515151"
                  alpha-test="0.3"
                  wrap-count="80"
                  width="2.85"
                  height="0.15"
                ></a-text>

                <a-text
                  id="getwidth"
                  font="roboto"
                  baseLine="center"
                  anchor="center"
                  value="Scroll Pane"
                  color="#212121"
                  wrap-count="54"
                  alpha-test="0.3"
                  width="2"
                  height="0.1"
                ></a-text>

                <a-text
                  font="roboto"
                  baseLine="center"
                  value="All of these primitive elements are enclosed inside a scroll pane. Elements out of view are automatically clipped."
                  anchor="center"
                  color="#515151"
                  alpha-test="0.3"
                  wrap-count="80"
                  width="2.9"
                  height="0.15"
                ></a-text>
              </a-entity>

              <!-- Left Panel -->
              <a-entity width="1.35">
                <!--Renderer-->
                <a-entity width="1.25">
                  <a-text
                    id="getwidth"
                    font="roboto"
                    baseLine="center"
                    anchor="center"
                    value="UI Renderer"
                    color="#212121"
                    wrap-count="27"
                    width="1"
                    height="0.2"
                  ></a-text>

                  <a-text
                    font="roboto"
                    baseLine="center"
                    value="The objects contained within the renderer entity are removed from the main scene and then rendered only when things change using the inbuilt change detection system."
                    anchor="center"
                    color="#515151"
                    wrap-count="35"
                    width="1.26875"
                    height="0.2"
                  ></a-text>
                </a-entity>

                <!--Ripple-->
                <a-entity width="1.25">
                  <a-text
                    font="roboto"
                    baseLine="bottom"
                    value="Ripple"
                    color="#212121"
                    anchor="center"
                    wrap-count="25"
                    width="1.25"
                    height="0.2"
                  ></a-text>

                  <a-plane
                    class="intersectable"
                    shader="flat"
                    width="0.25"
                    height="0.2"
                    color="#673ab7"
                    ui-ripple="size:0.25 0.2;clampToSquare:true;zIndex:0.001;color:white;"
                  ></a-plane>

                  <a-triangle
                    class="intersectable"
                    shader="flat"
                    vertex-a="0 0.075 0"
                    vertex-b="-0.075 -0.075 0"
                    vertex-c="0.075 -0.075 0"
                    color="#ec407a"
                    ui-ripple="size:0.15 0.15;zIndex:-0.001;color:#f48fb1; duration:500;fadeDuration:250;"
                    width="0.25"
                    height="0.2"
                  ></a-triangle>
                </a-entity>

                <!-- Buttons -->
                <a-entity position="0 -2 0" width="1.25">
                  <a-text
                    font="roboto"
                    baseLine="center"
                    value="Buttons"
                    color="#212121"
                    anchor="center"
                    wrap-count="25"
                    width="1.25"
                    height="0.1"
                  ></a-text>

                  <!--Button-->
                  <a-ui-button
                    class="intersectable"
                    text-value="Button"
                  ></a-ui-button>

                  <!--Flat Button-->
                  <a-ui-button
                    class="intersectable"
                    text-value="Flat Button"
                    transparent="true"
                    font-color="#009688"
                    color="white"
                    ripple-color="#009688"
                  ></a-ui-button>

                  <!--Disabled Button-->
                  <a-ui-button
                    class="intersectable"
                    text-value="Disabled"
                    disabled="true"
                    transparent="true"
                    font-color="#cfcfcf"
                    color="#efefef"
                    ripple-color="#cfcfcf"
                  ></a-ui-button>

                  <a-text
                    font="roboto"
                    baseLine="center"
                    value="Floating Action Buttons"
                    color="#212121"
                    anchor="center"
                    wrap-count="25"
                    width="1.25"
                    height="0.15"
                  ></a-text>

                  <!--Floating Action Button-->
                  <a-ui-fab-button
                    class="intersectable"
                    color="#f44336"
                  ></a-ui-fab-button>

                  <!--Floating Action Button Small-->
                  <a-ui-fab-button-small
                    class="intersectable"
                    color="#2196f3"
                  ></a-ui-fab-button-small>

                  <!--Floating Action Button Disabled-->
                  <a-ui-fab-button-small
                    class="intersectable"
                    disabled="true"
                    color="#afafaf"
                    ripple-color="#afafaf"
                  ></a-ui-fab-button-small>

                  <a-text
                    font="roboto"
                    baseLine="center"
                    value="Modal"
                    color="#212121"
                    anchor="center"
                    wrap-count="25"
                    width="1.25"
                    height="0.15"
                  ></a-text>

                  <!--Modal Button-->
                  <a-ui-button
                    class="intersectable"
                    text-value="Open Modal"
                    wrap-count="12"
                    ui-modal="modal:#modalRenderer;main:#mainRenderer;"
                  ></a-ui-button>

                  <a-text
                    font="roboto"
                    baseLine="center"
                    value="Color Picker"
                    color="#212121"
                    anchor="center"
                    wrap-count="25"
                    width="1.25"
                    height="0.15"
                  ></a-text>

                  <!--Color Picker Button-->
                  <a-ui-button
                    id="pickColor"
                    class="intersectable"
                    text-value="Pick Color"
                    wrap-count="12"
                  >
                  </a-ui-button>
                </a-entity>
              </a-entity>

              <!-- Right Panel -->
              <a-entity width="1.35">
                <!--Text Input-->
                <a-entity width="1.25">
                  <a-text
                    font="roboto"
                    baseLine="center"
                    anchor="center"
                    value="Text"
                    color="#212121"
                    wrap-count="25"
                    width="0.9"
                    height="0.1"
                  ></a-text>
                  <a-ui-input-text
                    camera-el="#camera"
                    width="1"
                    height="0.2"
                    value=""
                  ></a-ui-input-text>
                  <!--Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut in quam dui.-->
                </a-entity>

                <!--Number Input-->
                <a-entity width="1.25">
                  <a-text
                    font="roboto"
                    baseLine="center"
                    anchor="center"
                    value="Number"
                    color="#212121"
                    wrap-count="25"
                    width="0.9"
                    height="0.1"
                  ></a-text>

                  <a-ui-input-text
                    camera-el="#camera"
                    width="1"
                    height="0.2"
                    type="number"
                    value="0.00"
                    place-holder="Number..."
                  ></a-ui-input-text>
                </a-entity>

                <!--Int Input-->
                <a-entity width="1.25">
                  <a-text
                    font="roboto"
                    baseLine="center"
                    anchor="center"
                    value="Integer"
                    color="#212121"
                    wrap-count="25"
                    width="1.25"
                    height="0.1"
                  ></a-text>

                  <a-ui-input-text
                    camera-el="#camera"
                    width="1"
                    height="0.2"
                    type="int"
                    value="10"
                    place-holder="Whole Number..."
                  ></a-ui-input-text>
                </a-entity>

                <!--Switch-->
                <a-entity width="1.25">
                  <a-text
                    font="roboto"
                    baseLine="center"
                    anchor="center"
                    value="Switch"
                    color="#212121"
                    wrap-count="25"
                    width="1.25"
                    height="0.15"
                  ></a-text>
                  <a-ui-switch></a-ui-switch>

                  <a-ui-switch disabled="true"></a-ui-switch>
                </a-entity>

                <a-text
                  font="roboto"
                  baseLine="center"
                  anchor="center"
                  value="Checkbox"
                  color="#212121"
                  wrap-count="25"
                  width="1.25"
                  height="0.1"
                ></a-text>

                <!--Checkbox-->
                <a-entity width="1.25">
                  <a-ui-checkbox></a-ui-checkbox>

                  <a-ui-checkbox value="true"></a-ui-checkbox>

                  <a-ui-checkbox indeterminate="true"></a-ui-checkbox>

                  <a-ui-checkbox disabled="true"></a-ui-checkbox>
                </a-entity>

                <!--Radio Group-->
                <a-entity width="1.25">
                  <a-text
                    font="roboto"
                    baseLine="center"
                    anchor="center"
                    value="Radio"
                    color="#212121"
                    wrap-count="25"
                    width="1.25"
                    height="0.1"
                  ></a-text>
                  <a-ui-radio></a-ui-radio>
                  <a-ui-radio selected="true"></a-ui-radio>
                  <a-ui-radio></a-ui-radio>
                  <a-ui-radio disabled="true"></a-ui-radio>
                </a-entity>

                <a-entity width="1.25">
                  <a-text
                    font="roboto"
                    baseLine="center"
                    value="Toast Message"
                    color="#212121"
                    anchor="center"
                    wrap-count="25"
                    width="1.25"
                    height="0.15"
                  ></a-text>

                  <!--Toast Button-->
                  <a-ui-button
                    ui-toast="toastEl:#toastMessage;message:Im a toast message!"
                    class="intersectable"
                    text-value="Show Toast"
                    wrap-count="12"
                  ></a-ui-button>

                  <!--Toast Button 2-->
                  <a-ui-button
                    ui-toast="toastEl:#toastMessage;message:Hello World! Im a very long toast message toast toasty toast toasty toast toast toasty toast toasty toast toast!"
                    class="intersectable"
                    text-value="Show Toast 2"
                    wrap-count="12"
                  ></a-ui-button>
                </a-entity>
              </a-entity>
            </a-entity>
          </a-ui-scroll-pane>
        </a-entity>
        <a-entity
          ui-color-picker="targetEl:#pickColor"
          position="0 0.2 -0.55"
        ></a-entity>
      </a-ui-renderer>
    </a-scene>
    <script>
      // On mobile remove elements that are resource heavy
      var isMobile = AFRAME.utils.device.isMobile();

      if (isMobile) {
        var particles = document.getElementById("particles");
        particles.parentNode.removeChild(particles);
      }

      // Define custom schema for syncing avatar color, set by random-color
      NAF.schemas.add({
        template: "#avatar-template",
        components: [
          "position",
          "rotation",
          {
            selector: ".head",
            component: "material",
            property: "color"
          }
        ]
      });
    </script>
    <script src="assets/js/plugin.js"></script>
    <script src="assets/js/main.js"></script>
  </body>
</html>
